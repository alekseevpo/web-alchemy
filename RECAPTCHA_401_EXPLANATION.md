# üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 401 –æ—Ç reCAPTCHA

## ‚ùå –ß—Ç–æ –≤–∏–¥–Ω–æ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```
POST https://www.google.com/recaptcha/api2/pat?k=6Lcdl04sAAAAAK... 401 (Unauthorized)
```

**–ö–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:** `6Lcdl04sAAAAAK...` ‚úÖ (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `.env.local`)

---

## üîç –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —ç—Ç–∞ –æ—à–∏–±–∫–∞:

`/api2/pat` ‚Äî —ç—Ç–æ **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API endpoint** Google reCAPTCHA, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –ü–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (PAT - Private Access Token)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–û—à–∏–±–∫–∞ 401** –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.

---

## ü§î –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

### 1. **–î–æ–º–µ–Ω `localhost` –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Google Console**
   - –•–æ—Ç—è –¥–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω, –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - Google –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–º–µ–Ω–∞

### 2. **–ó–∞–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ Google**
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ Google Console –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è 5-15 –º–∏–Ω—É—Ç
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

### 3. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ CSP –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏**
   - –•–æ—Ç—è CSP –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 4. **reCAPTCHA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - –û—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π reCAPTCHA
   - –ù–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É (–µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º—É
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ñ–æ—Ä–º–∞?**

–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ **—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è**, —Ç–æ –æ—à–∏–±–∫–∞ `/api2/pat` **–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞** ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π endpoint, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –Ω–µ –≤–ª–∏—è—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–¥–æ–∂–¥–∞—Ç—å 10-15 –º–∏–Ω—É—Ç

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Google Console –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `localhost` —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Google Console
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 –º–∏–Ω—É—Ç
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ reCAPTCHA (–≤—Ä–µ–º–µ–Ω–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ä–æ—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ñ–æ—Ä–º—ã, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É reCAPTCHA –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Ñ–æ—Ä–º–∞ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ.

---

## üß™ –¢–µ—Å—Ç: –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Ñ–æ—Ä–º–∞?

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è (–∏–º—è, email, —É—Å–ª—É–≥–∞, —Å–æ–æ–±—â–µ–Ω–∏–µ)
3. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"**
4. **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**
   - –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è? ‚úÖ
   - –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ? ‚úÖ
   - –ò–ª–∏ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏? ‚ùå

**–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Äî –æ—à–∏–±–∫–∞ `/api2/pat` –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞, —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π endpoint Google.

---

## üìù –í—ã–≤–æ–¥:

–û—à–∏–±–∫–∞ `401` –Ω–∞ `/api2/pat` –º–æ–∂–µ—Ç –±—ã—Ç—å **–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–π**, –µ—Å–ª–∏:
- ‚úÖ –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- ‚úÖ reCAPTCHA —Ç–æ–∫–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Network tab)
- ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç

**–≠—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API Google**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –Ω–µ –≤–ª–∏—è—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Ä–∞–±–æ—Ç—É reCAPTCHA v3.

---

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Ñ–æ—Ä–º—ã ‚Äî –µ—Å–ª–∏ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –æ—à–∏–±–∫—É!**
